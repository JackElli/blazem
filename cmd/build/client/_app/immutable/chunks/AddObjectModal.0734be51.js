import{S as J,i as X,s as G,k as v,q as U,a as M,l as y,m as T,r as B,h as o,c as V,n as _,b as m,G as E,J as H,H as S,X as L,t as te,w as z,e as Y,g as C,v as le,d as R,f as re,U as ue,y as se,z as ae,A as oe,B as ie}from"./index.880e7ca1.js";import{h as ne}from"./global.4797340b.js";import{n as ce}from"./request.b63550bf.js";const Z="0123456789abcdef",fe=16,de=()=>{let a="";for(let t=0;t<fe;t++){let s=Math.floor(Math.random()*Z.length);a+=Z[s]}return a};function pe(a){let t,s,e,l,n,h,p,d,k,f,D,u,i,b,x,w,A,N,j,F,K,$;return{c(){t=v("p"),s=U("Document Key"),e=M(),l=v("input"),n=M(),h=v("br"),p=M(),d=v("p"),k=U("Document value"),f=M(),D=v("textarea"),u=M(),i=v("p"),b=U("Upload a file?"),x=M(),w=v("br"),A=M(),N=v("button"),j=v("p"),F=U("Add"),this.h()},l(r){t=y(r,"P",{class:!0});var c=T(t);s=B(c,"Document Key"),c.forEach(o),e=V(r),l=y(r,"INPUT",{class:!0,type:!0,placeholder:!0}),n=V(r),h=y(r,"BR",{}),p=V(r),d=y(r,"P",{class:!0});var P=T(d);k=B(P,"Document value"),P.forEach(o),f=V(r),D=y(r,"TEXTAREA",{class:!0}),T(D).forEach(o),u=V(r),i=y(r,"P",{class:!0});var I=T(i);b=B(I,"Upload a file?"),I.forEach(o),x=V(r),w=y(r,"BR",{}),A=V(r),N=y(r,"BUTTON",{class:!0});var O=T(N);j=y(O,"P",{class:!0});var g=T(j);F=B(g,"Add"),g.forEach(o),O.forEach(o),this.h()},h(){_(t,"class","text-gray-300 text-xs mt-2"),_(l,"class","border border-gray-300 rounded-sm w-80 h-7 pl-2"),_(l,"type","text"),_(l,"placeholder","testkey"),_(d,"class","text-gray-300 text-xs mt-2"),_(D,"class","border border-gray-300 h-24 pl-2 pt-2 resize-none w-80"),_(i,"class","text-[#3d3d75] hover:underline cursor-pointer"),_(j,"class","ml-2 mr-2"),_(N,"class","flex justify-center items-center bg-white border-l-4 border-l-[#3d3d75] h-8 border-gray-300 border hover:border-gray-400 relative")},m(r,c){m(r,t,c),E(t,s),m(r,e,c),m(r,l,c),a[4](l),m(r,n,c),m(r,h,c),m(r,p,c),m(r,d,c),E(d,k),m(r,f,c),m(r,D,c),a[5](D),m(r,u,c),m(r,i,c),E(i,b),m(r,x,c),m(r,w,c),m(r,A,c),m(r,N,c),E(N,j),E(j,F),K||($=H(N,"click",a[6]),K=!0)},p:S,i:S,o:S,d(r){r&&o(t),r&&o(e),r&&o(l),a[4](null),r&&o(n),r&&o(h),r&&o(p),r&&o(d),r&&o(f),r&&o(D),a[5](null),r&&o(u),r&&o(i),r&&o(x),r&&o(w),r&&o(A),r&&o(N),K=!1,$()}}}function me(a,t,s){let{active:e}=t,l,n;const h=L(),p=async()=>{let u=window.location.href.split("folder/")[1],i=l.value||l.placeholder,b="text",x=n.value;x!=""&&(await ce(`http://${ne}:3100/doc`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({folder:u,key:i,type:b,value:x})}),h("hideModal"),h("getData"))},d=async()=>{await te(),e=="data"&&(s(0,l.placeholder=de(),l),n.focus())};function k(u){z[u?"unshift":"push"](()=>{l=u,s(0,l)})}function f(u){z[u?"unshift":"push"](()=>{n=u,s(1,n)})}const D=()=>p();return a.$$set=u=>{"active"in u&&s(3,e=u.active)},a.$$.update=()=>{a.$$.dirty&8&&e&&d()},[l,n,p,e,k,f,D]}class _e extends J{constructor(t){super(),X(this,t,me,pe,G,{active:3})}}function he(a){let t,s,e,l,n,h,p,d,k,f,D,u;return{c(){t=v("p"),s=U("Folder name"),e=M(),l=v("input"),n=M(),h=v("br"),p=M(),d=v("button"),k=v("p"),f=U("Add"),this.h()},l(i){t=y(i,"P",{class:!0});var b=T(t);s=B(b,"Folder name"),b.forEach(o),e=V(i),l=y(i,"INPUT",{class:!0,type:!0}),n=V(i),h=y(i,"BR",{}),p=V(i),d=y(i,"BUTTON",{class:!0});var x=T(d);k=y(x,"P",{class:!0});var w=T(k);f=B(w,"Add"),w.forEach(o),x.forEach(o),this.h()},h(){_(t,"class","text-gray-300 text-xs mt-2"),_(l,"class","border border-gray-300 rounded-sm w-80 h-7 pl-2"),_(l,"type","text"),_(k,"class","ml-2 mr-2"),_(d,"class","flex justify-center items-center bg-white border-l-4 border-l-[#3d3d75] h-8 border-gray-300 border hover:border-gray-400 relative mt-2")},m(i,b){m(i,t,b),E(t,s),m(i,e,b),m(i,l,b),a[3](l),m(i,n,b),m(i,h,b),m(i,p,b),m(i,d,b),E(d,k),E(k,f),D||(u=H(d,"click",a[4]),D=!0)},p:S,i:S,o:S,d(i){i&&o(t),i&&o(e),i&&o(l),a[3](null),i&&o(n),i&&o(h),i&&o(p),i&&o(d),D=!1,u()}}}function be(a,t,s){let{active:e}=t,l;const n=L(),h=async()=>{let f=window.location.href.split("folder/")[1],D=de(),u=l.value;u!=""&&(await ce(`http://${ne}:3100/doc`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({folder:f,folderName:u,docCount:0,value:"",key:D,type:"folder"})}),n("hideModal"),n("getData"))},p=async()=>{if(await te(),e=="folder"){l.focus();return}};function d(f){z[f?"unshift":"push"](()=>{l=f,s(0,l)})}const k=()=>h();return a.$$set=f=>{"active"in f&&s(2,e=f.active)},a.$$.update=()=>{a.$$.dirty&4&&e&&p()},[l,h,e,d,k]}class ve extends J{constructor(t){super(),X(this,t,be,he,G,{active:2})}}function ee(a){let t,s,e,l,n,h,p,d,k,f,D,u,i,b,x,w,A,N,j,F;const K=[ke,ye],$=[];function r(c,P){return c[1]=="data"?0:1}return w=r(a),A=$[w]=K[w](a),{c(){t=v("div"),s=v("div"),e=v("div"),l=v("h1"),n=U("Add object"),h=M(),p=v("div"),d=v("h1"),k=U("Data"),D=M(),u=v("h1"),i=U("Folder"),x=M(),A.c(),this.h()},l(c){t=y(c,"DIV",{class:!0});var P=T(t);s=y(P,"DIV",{class:!0});var I=T(s);e=y(I,"DIV",{class:!0});var O=T(e);l=y(O,"H1",{class:!0});var g=T(l);n=B(g,"Add object"),g.forEach(o),h=V(O),p=y(O,"DIV",{class:!0});var q=T(p);d=y(q,"H1",{class:!0});var Q=T(d);k=B(Q,"Data"),Q.forEach(o),D=V(q),u=y(q,"H1",{class:!0});var W=T(u);i=B(W,"Folder"),W.forEach(o),q.forEach(o),x=V(O),A.l(O),O.forEach(o),I.forEach(o),P.forEach(o),this.h()},h(){_(l,"class","font-medium"),_(d,"class",f=`hover:underline cursor-pointer ${a[1]=="data"?"underline":""}`),_(u,"class",b=`hover:underline cursor-pointer ${a[1]=="folder"?"underline":""}`),_(p,"class","flex gap-1 text-sm mt-2"),_(e,"class","p-5"),_(s,"class","w-[400px] bg-white block mx-auto mt-8 rounded-sm"),_(t,"class","modal-position w-full h-full fixed top-0 left-0 z-20 bg-black bg-opacity-40")},m(c,P){m(c,t,P),E(t,s),E(s,e),E(e,l),E(l,n),E(e,h),E(e,p),E(p,d),E(d,k),E(p,D),E(p,u),E(u,i),E(e,x),$[w].m(e,null),N=!0,j||(F=[H(d,"click",a[4]),H(u,"click",a[5]),H(t,"mousedown",a[2])],j=!0)},p(c,P){(!N||P&2&&f!==(f=`hover:underline cursor-pointer ${c[1]=="data"?"underline":""}`))&&_(d,"class",f),(!N||P&2&&b!==(b=`hover:underline cursor-pointer ${c[1]=="folder"?"underline":""}`))&&_(u,"class",b);let I=w;w=r(c),w===I?$[w].p(c,P):(le(),R($[I],1,1,()=>{$[I]=null}),re(),A=$[w],A?A.p(c,P):(A=$[w]=K[w](c),A.c()),C(A,1),A.m(e,null))},i(c){N||(C(A),N=!0)},o(c){R(A),N=!1},d(c){c&&o(t),$[w].d(),j=!1,ue(F)}}}function ye(a){let t,s;return t=new ve({props:{active:a[1]}}),t.$on("hideModal",a[3]),{c(){se(t.$$.fragment)},l(e){ae(t.$$.fragment,e)},m(e,l){oe(t,e,l),s=!0},p(e,l){const n={};l&2&&(n.active=e[1]),t.$set(n)},i(e){s||(C(t.$$.fragment,e),s=!0)},o(e){R(t.$$.fragment,e),s=!1},d(e){ie(t,e)}}}function ke(a){let t,s;return t=new _e({props:{active:a[1]}}),t.$on("hideModal",a[3]),{c(){se(t.$$.fragment)},l(e){ae(t.$$.fragment,e)},m(e,l){oe(t,e,l),s=!0},p(e,l){const n={};l&2&&(n.active=e[1]),t.$set(n)},i(e){s||(C(t.$$.fragment,e),s=!0)},o(e){R(t.$$.fragment,e),s=!1},d(e){ie(t,e)}}}function we(a){let t,s,e=a[0]&&ee(a);return{c(){e&&e.c(),t=Y()},l(l){e&&e.l(l),t=Y()},m(l,n){e&&e.m(l,n),m(l,t,n),s=!0},p(l,[n]){l[0]?e?(e.p(l,n),n&1&&C(e,1)):(e=ee(l),e.c(),C(e,1),e.m(t.parentNode,t)):e&&(le(),R(e,1,1,()=>{e=null}),re())},i(l){s||(C(e),s=!0)},o(l){R(e),s=!1},d(l){e&&e.d(l),l&&o(t)}}}function Ee(a,t,s){let{visible:e=!1}=t,l="data";const n=L(),h=f=>{f.target.className.includes("modal-position")&&s(0,e=!1)},p=()=>{s(0,e=!1),n("getData")},d=()=>s(1,l="data"),k=()=>s(1,l="folder");return a.$$set=f=>{"visible"in f&&s(0,e=f.visible)},[e,l,h,p,d,k]}class Ne extends J{constructor(t){super(),X(this,t,Ee,we,G,{visible:0})}}export{Ne as A};
