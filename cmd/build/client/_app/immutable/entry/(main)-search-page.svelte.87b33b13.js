import{S as B,i as C,s as N,a as v,k as $,q as O,y as D,V as P,h as f,c as w,l as b,m as y,r as U,z as T,n as k,b as q,G as p,A as R,J as x,g as V,d as z,B as A,U as j,o as J,w as L}from"../chunks/index.880e7ca1.js";import{n as W}from"../chunks/request.b63550bf.js";import{h as F}from"../chunks/global.4797340b.js";import{D as G}from"../chunks/DataContainer.e5dfb1b2.js";import{L as I}from"../chunks/Loading.4288ffde.js";function M(i){var l;let s,t;return s=new G({props:{class:"mt-6",allData:(l=i[1])==null?void 0:l.docs}}),{c(){D(s.$$.fragment)},l(e){T(s.$$.fragment,e)},m(e,r){R(s,e,r),t=!0},p(e,r){var u;const o={};r&2&&(o.allData=(u=e[1])==null?void 0:u.docs),s.$set(o)},i(e){t||(V(s.$$.fragment,e),t=!0)},o(e){z(s.$$.fragment,e),t=!1},d(e){A(s,e)}}}function X(i){let s,t,l,e,r,o,u,_,d,h,g,n;return d=new I({props:{loading:i[2],$$slots:{default:[M]},$$scope:{ctx:i}}}),{c(){s=v(),t=$("div"),l=$("textarea"),e=v(),r=$("button"),o=$("p"),u=O("Search"),_=v(),D(d.$$.fragment),this.h()},l(a){P("svelte-122hss4",document.head).forEach(f),s=w(a),t=b(a,"DIV",{class:!0});var m=y(t);l=b(m,"TEXTAREA",{class:!0}),y(l).forEach(f),e=w(m),r=b(m,"BUTTON",{class:!0});var S=y(r);o=b(S,"P",{class:!0});var E=y(o);u=U(E,"Search"),E.forEach(f),S.forEach(f),_=w(m),T(d.$$.fragment,m),m.forEach(f),this.h()},h(){document.title="Blazem | Search",k(l,"class","block mx-auto mt-5 border border-gray-300 font-medium h-20 p-2 resize-none w-full text-xl rounded-md shadow-md outline-none"),k(o,"class","ml-2 mr-2"),k(r,"class","flex justify-center items-center bg-white border-l-4 border-l-[#3d3d75] h-8 border-gray-300 border hover:border-gray-400 relative mt-2"),k(t,"class","search_container")},m(a,c){q(a,s,c),q(a,t,c),p(t,l),i[5](l),p(t,e),p(t,r),p(r,o),p(o,u),p(t,_),R(d,t,null),h=!0,g||(n=[x(l,"keydown",i[4]),x(r,"click",i[6])],g=!0)},p(a,[c]){const m={};c&4&&(m.loading=a[2]),c&514&&(m.$$scope={dirty:c,ctx:a}),d.$set(m)},i(a){h||(V(d.$$.fragment,a),h=!0)},o(a){z(d.$$.fragment,a),h=!1},d(a){a&&f(s),a&&f(t),i[5](null),A(d),g=!1,j(n)}}}function H(i,s,t){const l=["select","delete","where"];let e,r,o=!1;const u=async()=>{const n=e.value;t(2,o=!0);const c=await(await W(`http://${F}:3100/query`,{method:"POST",credentials:"include",body:JSON.stringify({query:n})})).data;t(1,r=c==null?void 0:c.data),t(2,o=!1)},_=n=>{if(n.key=="Enter"){n.preventDefault(),u();return}d()},d=()=>{let n=e.value.split(" ");n=n.map(a=>l.includes(a)?a.toUpperCase():a),t(0,e.value=n.join(" "),e)};J(()=>{e.focus()});function h(n){L[n?"unshift":"push"](()=>{e=n,t(0,e)})}return[e,r,o,u,_,h,()=>u()]}class te extends B{constructor(s){super(),C(this,s,H,X,N,{})}}export{te as default};
