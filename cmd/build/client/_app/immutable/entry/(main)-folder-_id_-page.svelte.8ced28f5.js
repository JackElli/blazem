import{S as N,i as V,s as q,a as G,y as D,V as L,h as _,c as S,z as F,b as k,A as R,g as b,d as z,B,I as h,o as A,Q as i,W as M}from"../chunks/index.880e7ca1.js";import{L as P}from"../chunks/Loading.4288ffde.js";import{n as $}from"../chunks/request.b63550bf.js";import{h as w}from"../chunks/global.4797340b.js";import{s as c,n as y}from"../chunks/stores.2a36a085.js";import{D as Q}from"../chunks/DataContainer.e5dfb1b2.js";function W(s){let n,r;return n=new Q({props:{allData:s[0].data}}),n.$on("getData",s[3]),{c(){D(n.$$.fragment)},l(e){F(n.$$.fragment,e)},m(e,t){R(n,e,t),r=!0},p(e,t){const a={};t&1&&(a.allData=e[0].data),n.$set(a)},i(e){r||(b(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){B(n,e)}}}function Y(s){let n,r,e,t;return document.title=n="Blazem | "+(s[2]??""),e=new P({props:{loading:s[1],$$slots:{default:[W]},$$scope:{ctx:s}}}),{c(){r=G(),D(e.$$.fragment)},l(a){L("svelte-m0idwz",document.head).forEach(_),r=S(a),F(e.$$.fragment,a)},m(a,o){k(a,r,o),R(e,a,o),t=!0},p(a,[o]){(!t||o&4)&&n!==(n="Blazem | "+(a[2]??""))&&(document.title=n);const d={};o&2&&(d.loading=a[1]),o&8193&&(d.$$scope={dirty:o,ctx:a}),e.$set(d)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){z(e.$$.fragment,a),t=!1},d(a){a&&_(r),B(e,a)}}}function j(s,n,r){let e,t,a;h(s,c,l=>r(8,t=l)),h(s,y,l=>r(6,a=l));let{data:o}=n,d=o==null?void 0:o.folder.id,g=!0,f,m;const C=async()=>{let u=await(await $(`http://${w}:3100/folder/${d}`,{method:"GET",credentials:"include"})).data;r(0,f=u==null?void 0:u.data)},I=async()=>{let u=await(await $(`http://${w}:3100/parents/${d}`,{method:"GET",credentials:"include"})).data;r(5,m=u==null?void 0:u.data)},p=async()=>{await C(),await I(),r(1,g=!1)},T=async()=>{d=o==null?void 0:o.folder.id,await p()},E=()=>{i(c,t.current=e,t),i(c,t.previous=m??[],t)};return A(async()=>{i(c,t.defaultVal="Your folders",t),i(c,t.current=e,t)}),M(()=>{i(c,t.defaultVal="",t),i(c,t.current="",t),i(c,t.previous=[],t)}),s.$$set=l=>{"data"in l&&r(4,o=l.data)},s.$$.update=()=>{s.$$.dirty&1&&r(2,e=f==null?void 0:f.folderName),s.$$.dirty&16&&o&&T(),s.$$.dirty&32&&m&&E(),s.$$.dirty&64&&a&&(p(),i(y,a=!1,a))},[f,g,e,p,o,m,a]}class X extends N{constructor(n){super(),V(this,n,j,Y,q,{data:4})}}export{X as default};
